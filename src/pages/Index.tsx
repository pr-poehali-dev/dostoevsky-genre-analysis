import { useState } from 'react';
import { Card } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import Icon from '@/components/ui/icon';

interface Slide {
  id: number;
  title: string;
  content: string[];
  image?: string;
}

const slides: Slide[] = [
  {
    id: 1,
    title: 'Жанровые особенности романа-поэмы Достоевского',
    content: [
      'Роман-поэма представляет собой уникальный синтетический жанр, объединяющий эпическую широту романного повествования с лирической интенсивностью и философской глубиной поэмы.',
      'Творчество Фёдора Михайловича Достоевского знаменует собой вершину развития этого жанра в русской литературе XIX века, где традиционные жанровые границы размываются, создавая принципиально новую художественную форму.',
      'Настоящая работа посвящена исследованию жанровой специфики романов Достоевского и особенностей их структурной организации, что позволяет глубже понять новаторство писателя.'
    ],
    image: 'https://cdn.poehali.dev/projects/440b6d00-68ba-43c8-8566-62d501a14411/files/4a8bd74c-1352-4ac5-83b7-45412777cecc.jpg'
  },
  {
    id: 2,
    title: 'Введение в жанр романа-поэмы',
    content: [
      'Роман-поэма как жанровое образование возникает на пересечении двух мощных литературных традиций. С одной стороны, это эпическая традиция романа с его способностью охватывать широкий спектр социальных отношений, множественность характеров и судеб. С другой стороны — лирико-философская традиция поэмы с её концентрированностью образов, символической насыщенностью и ритмической организацией повествования.',
      'Термин "роман-поэма" впервые получил теоретическое обоснование в работах литературоведов начала XX века, хотя сами произведения этого типа существовали значительно раньше. Ключевой особенностью жанра является не просто механическое сочетание романных и поэмных элементов, но их органический синтез, создающий качественно новую художественную реальность.',
      'В романе-поэме повествовательная ткань пронизана лирическими отступлениями, философскими размышлениями, символическими образами и мотивами, которые образуют сложную семантическую сеть. При этом сохраняется романная широта охвата действительности, многоплановость сюжета и психологическая глубина характеров.',
      'Жанр романа-поэмы предполагает особую роль автора-повествователя, который выступает не просто как объективный наблюдатель, но как активный участник философского диалога с читателем и своими героями. Авторское сознание становится организующим центром произведения, определяющим его идейно-художественное единство.'
    ]
  },
  {
    id: 3,
    title: 'Историческое развитие жанра',
    content: [
      'Предпосылки формирования романа-поэмы можно обнаружить уже в эпоху романтизма, когда происходило активное взаимопроникновение эпических и лирических форм. Романтическая поэма (Byron, Пушкин, Лермонтов) и философский роман (Jean Paul, Шатобриан) подготовили почву для возникновения синтетического жанра.',
      'В русской литературе важнейшим этапом на пути к роману-поэме стало творчество Николая Васильевича Гоголя, особенно его поэма "Мёртвые души", которую автор сам определил как поэму, несмотря на её прозаическую форму и романную структуру. Гоголь соединил сатирическое изображение социальной действительности с лирическими отступлениями и пророческими интонациями.',
      'Достоевский наследует гоголевскую традицию, но существенно трансформирует её, создавая свой вариант романа-поэмы. Если у Гоголя доминирует сатирико-лирическое начало, то у Достоевского на первый план выходит философско-психологическая проблематика, связанная с метафизическими вопросами человеческого бытия.',
      'Важную роль в развитии жанра сыграла и европейская традиция философского романа (Вольтер, Дидро, Бальзак), а также достижения социально-психологического романа (Стендаль, Диккенс). Достоевский синтезировал эти традиции с русской литературной почвой, создав уникальную жанровую модель.'
    ]
  },
  {
    id: 4,
    title: 'Жанровые особенности романа-поэмы Достоевского',
    content: [
      'Полифоничность как основополагающий принцип. Михаил Бахтин в своём классическом исследовании "Проблемы поэтики Достоевского" определил романы писателя как полифонические, где голоса героев звучат наравне с голосом автора, создавая диалогическое единство равноправных сознаний. Эта полифония придаёт произведениям особую музыкальную организованность, характерную для поэмного жанра.',
      'Идеологический роман. Герои Достоевского — носители определённых идей и мировоззрений. Их столкновения представляют собой не просто бытовые конфликты, но философские диспуты о смысле существования, природе добра и зла, свободе и необходимости. Эта идеологическая насыщенность сближает романы Достоевского с философской поэмой.',
      'Символизм и мифологизация. Произведения Достоевского насыщены символическими образами и мотивами, которые образуют сквозные лейтмотивы. Петербург предстаёт не просто как географическое место, но как символ трагического разрыва человека с природой и Богом. Мотивы болезни, сна, двойничества создают особую поэтическую атмосферу.',
      'Карнавализация. Бахтин также отметил карнавальный характер романов Достоевского, где происходит смешение высокого и низкого, трагического и комического, священного и профанного. Эта карнавальность восходит к средневековой традиции и придаёт повествованию особую динамику и многоголосие.',
      'Психологизм и исповедальность. Внутренний мир героев раскрывается через внутренние монологи, исповеди, дневниковые записи. Это создаёт эффект лирической интимности, характерной для поэзии, при сохранении романной объективности изображения.'
    ],
    image: 'https://cdn.poehali.dev/projects/440b6d00-68ba-43c8-8566-62d501a14411/files/c518d8ee-46f8-4c8f-87e9-8b1eaf50c6c7.jpg'
  },
  {
    id: 5,
    title: 'Структурные элементы и композиция',
    content: [
      'Хронотоп. Время и пространство в романах Достоевского организованы особым образом. События сжаты в короткие временные промежутки (несколько дней или недель), но при этом достигается эффект огромной психологической протяжённости. Пространство концентрируется вокруг нескольких ключевых точек (комната, трактир, улица), которые становятся местами экзистенциальных прозрений.',
      'Сюжетно-композиционная организация. Романы Достоевского строятся по принципу кризисного развития действия. Герои постоянно находятся в пороговых ситуациях, требующих немедленного выбора. Это создаёт напряжённый драматизм повествования. Композиция часто включает в себя "роман в романе" — вставные новеллы, притчи, легенды (например, "Легенда о Великом инквизиторе").',
      'Система персонажей. Герои Достоевского образуют сложную систему двойников, антиподов и соответствий. Центральный герой окружён персонажами, которые представляют различные варианты решения его главной проблемы. Эта система создаёт эффект зеркальных отражений, характерный для поэтической композиции.',
      'Диалогическая структура. Диалог у Достоевского — не просто форма речевого общения, но способ философского познания истины. Диалоги строятся по принципу столкновения противоположных позиций, где каждая получает полноценное выражение. При этом истина не даётся в готовом виде, а рождается в процессе диалогического напряжения.',
      'Повествовательная организация. Достоевский использует различные типы повествования: от всеведущего рассказчика до субъективных форм (дневник, записки, исповедь). Эта смена повествовательных инстанций создаёт эффект многоголосия и позволяет показать событие с разных точек зрения, что усиливает объёмность изображения.'
    ]
  },
  {
    id: 6,
    title: 'Влияние на русскую литературу',
    content: [
      'Достоевский оказал определяющее влияние на развитие русской и мировой литературы. Его открытия в области романной формы стали основой для модернистской прозы XX века. Полифоническая структура романов предвосхитила эксперименты Джеймса Джойса, Марселя Пруста, Уильяма Фолкнера.',
      'Психологический метод Достоевского, основанный на исследовании пограничных состояний человеческой психики, повлиял на становление психоанализа. Зигмунд Фрейд называл Достоевского величайшим психологом в литературе. Экзистенциальная проблематика романов предвосхитила философию экзистенциализма (Камю, Сартр, Шестов, Бердяев).',
      'В русской литературе влияние Достоевского прослеживается в творчестве символистов (Андрей Белый, Вячеслав Иванов), которые развили его идею романа-трагедии и романа-мистерии. Михаил Булгаков, Андрей Платонов, Варлам Шаламов по-своему продолжили традицию философского романа-поэмы.',
      'Современная литература продолжает обращаться к наследию Достоевского, переосмысливая его художественные открытия. Жанр романа-поэмы остаётся актуальным способом художественного осмысления сложнейших проблем человеческого существования, сочетающим философскую глубину с эмоциональной насыщенностью.',
      'Влияние Достоевского распространяется и на кинематограф. Его принципы построения характеров, напряжённая драматургия, философская проблематика оказали воздействие на творчество таких режиссёров, как Акира Куросава, Роберт Брессон, Андрей Тарковский.'
    ],
    image: 'https://cdn.poehali.dev/projects/440b6d00-68ba-43c8-8566-62d501a14411/files/67875a35-c8db-4ab9-ae6e-f98a8d3029e4.jpg'
  },
  {
    id: 7,
    title: 'Заключение',
    content: [
      'Роман-поэма Достоевского представляет собой уникальное явление в истории мировой литературы. Синтезируя эпическую широту романа с лирической интенсивностью и философской глубиной поэмы, писатель создал художественную форму, адекватную сложности и противоречивости современного ему сознания.',
      'Жанровые особенности романов Достоевского — полифоничность, идеологизм, символизм, карнавализация — не являются механическим набором приёмов, но образуют органическое единство, направленное на решение главной художественной задачи: изображение человека в его отношении к последним вопросам бытия.',
      'Структурная организация произведений, основанная на принципах диалогизма, кризисного развития действия, системе двойников и сложной повествовательной организации, создаёт эффект многомерности художественного мира, где каждый элемент связан с целым и несёт смысловую нагрузку.',
      'Влияние Достоевского на развитие литературы XX-XXI веков трудно переоценить. Его открытия в области романной формы, психологического анализа, философской проблематики стали достоянием мировой культуры и продолжают определять развитие современной литературы.',
      'Изучение жанровой природы и структурных особенностей романов Достоевского остаётся актуальной задачей литературоведения, позволяющей глубже понять не только творчество великого писателя, но и общие закономерности развития художественной формы.'
    ]
  }
];

export default function Index() {
  const [currentSlide, setCurrentSlide] = useState(0);

  const goToSlide = (index: number) => {
    setCurrentSlide(index);
  };

  const nextSlide = () => {
    if (currentSlide < slides.length - 1) {
      setCurrentSlide(currentSlide + 1);
    }
  };

  const prevSlide = () => {
    if (currentSlide > 0) {
      setCurrentSlide(currentSlide - 1);
    }
  };

  const slide = slides[currentSlide];

  return (
    <div className="min-h-screen bg-background flex flex-col">
      <header className="border-b border-border bg-card py-4 px-6">
        <div className="max-w-7xl mx-auto flex items-center justify-between">
          <h1 className="text-2xl font-bold text-primary">
            Жанровые особенности романа-поэмы Достоевского
          </h1>
          <div className="text-sm text-muted-foreground">
            Слайд {currentSlide + 1} из {slides.length}
          </div>
        </div>
      </header>

      <main className="flex-1 flex items-center justify-center p-6">
        <div className="w-full max-w-5xl">
          <Card className="bg-card border-2 border-border shadow-2xl">
            <div className="p-12">
              {slide.image && (
                <div className="mb-8 rounded-lg overflow-hidden border-2 border-accent/20">
                  <img 
                    src={slide.image} 
                    alt={slide.title}
                    className="w-full h-64 object-cover"
                  />
                </div>
              )}
              
              <h2 className="text-4xl font-bold mb-8 text-primary border-b-2 border-accent pb-4">
                {slide.title}
              </h2>
              
              <div className="space-y-6 text-lg leading-relaxed text-foreground">
                {slide.content.map((paragraph, index) => (
                  <p key={index} className="text-justify">
                    {paragraph}
                  </p>
                ))}
              </div>
            </div>
          </Card>

          <div className="mt-8 flex items-center justify-between">
            <Button 
              onClick={prevSlide}
              disabled={currentSlide === 0}
              variant="outline"
              size="lg"
              className="gap-2"
            >
              <Icon name="ChevronLeft" size={20} />
              Предыдущий
            </Button>

            <div className="flex gap-2">
              {slides.map((_, index) => (
                <button
                  key={index}
                  onClick={() => goToSlide(index)}
                  className={`w-3 h-3 rounded-full transition-all ${
                    index === currentSlide 
                      ? 'bg-accent w-8' 
                      : 'bg-muted hover:bg-muted-foreground/50'
                  }`}
                  aria-label={`Перейти к слайду ${index + 1}`}
                />
              ))}
            </div>

            <Button 
              onClick={nextSlide}
              disabled={currentSlide === slides.length - 1}
              variant="outline"
              size="lg"
              className="gap-2"
            >
              Следующий
              <Icon name="ChevronRight" size={20} />
            </Button>
          </div>
        </div>
      </main>

      <footer className="border-t border-border bg-card py-4 px-6 text-center text-sm text-muted-foreground">
        <p>Академическая презентация • Литературоведение • 2024</p>
      </footer>
    </div>
  );
}
